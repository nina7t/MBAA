<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mon Espace - MBAA</title>
    <link rel="stylesheet" href="./style.css">
</head>
<body class="visiteur-body">
    <div class="visiteur-container">
        <!-- Sidebar -->
        <aside class="visiteur-sidebar">
            <div class="sidebar-user">
                <div class="user-avatar">üë§</div>
                <div class="user-info">
                    <p class="user-name" id="userName">Jean Dupont</p>
                    <p class="user-email" id="userEmail">jean@example.com</p>
                </div>
            </div>

            <nav class="sidebar-nav">
                <ul class="sidebar-menu">
                    <li><a href="#" class="sidebar-link active" data-section="tickets">üéüÔ∏è Mes tickets</a></li>
                    <li><a href="#" class="sidebar-link" data-section="events">üìÖ √âv√©nements visit√©s</a></li>
                    <li><a href="#" class="sidebar-link" data-section="horaires">‚è∞ Horaires & Infos</a></li>
                    <li><a href="#" class="sidebar-link" data-section="newsletter">üìß Newsletter</a></li>
                </ul>
            </nav>

            <button class="sidebar-logout" id="logoutBtn">D√©connexion</button>
        </aside>

        <!-- Main Content -->
        <main class="visiteur-main">
            <!-- Header -->
            <header class="visiteur-header">
                <h1>Mon Espace Personnel</h1>
                <p class="welcome-text">Bienvenue au Mus√©e des Beaux-Arts et d'Arch√©ologie</p>
            </header>

            <!-- Tickets Section -->
            <section class="content-section" id="tickets-section">
                <div class="section-header">
                    <h2>üéüÔ∏è Mes Tickets</h2>
                </div>
                
                <div class="tickets-grid">
                    <div class="ticket-card">
                        <div class="ticket-header">
                            <span class="ticket-type">Entr√©e G√©n√©rale</span>
                            <span class="ticket-status valid">Valide</span>
                        </div>
                        <div class="ticket-details">
                            <p><strong>Date :</strong> 24 d√©cembre 2025</p>
                            <p><strong>Heure :</strong> 14:00</p>
                            <p><strong>Tarif :</strong> 12‚Ç¨</p>
                            <p><strong>N¬∞ Ticket :</strong> #MBAA-2024-001</p>
                        </div>
                        <button class="ticket-btn">T√©l√©charger PDF</button>
                    </div>

                    <div class="ticket-card">
                        <div class="ticket-header">
                            <span class="ticket-type">Visite Guid√©e</span>
                            <span class="ticket-status expired">Utilis√©</span>
                        </div>
                        <div class="ticket-details">
                            <p><strong>Date :</strong> 10 d√©cembre 2025</p>
                            <p><strong>Heure :</strong> 15:30</p>
                            <p><strong>Guide :</strong> Marie Leclerc</p>
                            <p><strong>N¬∞ Ticket :</strong> #MBAA-2024-002</p>
                        </div>
                        <button class="ticket-btn">Revoir le re√ßu</button>
                    </div>
                </div>

                <div class="section-actions">
                    <a href="./reservation.html" class="btn-primary">R√©server un nouveau ticket</a>
                </div>
            </section>

            <!-- Events Section -->
            <section class="content-section" id="events-section" style="display: none;">
                <div class="section-header">
                    <h2>üìÖ √âv√©nements Visit√©s</h2>
                </div>

                <div class="events-list">
                    <div class="event-item">
                        <div class="event-image">
                            <img src="./asset/Img/visite-groupe.jpg" alt="Exposition : Les Impressionnistes">
                        </div>
                        <div class="event-info">
                            <h3>Exposition : Les Impressionnistes</h3>
                            <p class="event-date">üìÖ 15 novembre 2025</p>
                            <p class="event-desc">D√©couvrez les chefs-d'≈ìuvre de Monet, Renoir et Sisley √† travers une s√©lection exceptionnelle de nos collections.</p>
                            <div class="event-rating">
                                <span>Votre avis : </span>
                                <div class="stars">
                                    <span class="star filled">‚òÖ</span>
                                    <span class="star filled">‚òÖ</span>
                                    <span class="star filled">‚òÖ</span>
                                    <span class="star filled">‚òÖ</span>
                                    <span class="star">‚òÖ</span>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div class="event-item">
                        <div class="event-image">
                            <img src="./asset/Img/visite-groupe.jpg" alt="Visite guid√©e : Tr√©sors de l'√âgypte Antique">
                        </div>
                        <div class="event-info">
                            <h3>Visite guid√©e : Tr√©sors de l'√âgypte Antique</h3>
                            <p class="event-date">üìÖ 8 novembre 2025</p>
                            <p class="event-desc">Explorez les myst√®res de la civilisation √©gyptienne avec notre expert √©gyptologue.</p>
                            <div class="event-rating">
                                <span>Votre avis : </span>
                                <div class="stars">
                                    <span class="star filled">‚òÖ</span>
                                    <span class="star filled">‚òÖ</span>
                                    <span class="star filled">‚òÖ</span>
                                    <span class="star filled">‚òÖ</span>
                                    <span class="star filled">‚òÖ</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Hours Section -->
            <section class="content-section" id="horaires-section" style="display: none;">
                <div class="section-header">
                    <h2>‚è∞ Horaires & Informations</h2>
                </div>

                <div class="info-grid">
                    <div class="info-card">
                        <h3>Horaires d'ouverture</h3>
                        <ul class="hours-list">
                            <li><span>Lundi :</span> Ferm√©</li>
                            <li><span>Mardi - Dimanche :</span> 10:00 - 18:00</li>
                            <li><span>Jeudi :</span> 10:00 - 21:00 (nocturne)</li>
                            <li><span>Jours f√©ri√©s :</span> 14:00 - 18:00</li>
                        </ul>
                    </div>

                    <div class="info-card">
                        <h3>Tarifs</h3>
                        <ul class="prices-list">
                            <li><span>Entr√©e g√©n√©rale :</span> 12‚Ç¨</li>
                            <li><span>Tarif r√©duit :</span> 7‚Ç¨</li>
                            <li><span>Gratuit :</span> Moins de 18 ans</li>
                            <li><span>Visite guid√©e :</span> +5‚Ç¨</li>
                        </ul>
                    </div>

                    <div class="info-card">
                        <h3>Contact</h3>
                        <ul class="contact-list">
                            <li><strong>Adresse :</strong> 1 rue de la R√©publique, 25000 Besan√ßon</li>
                            <li><strong>T√©l√©phone :</strong> 03 81 87 80 49</li>
                            <li><strong>Email :</strong> contact@mbaa-besancon.fr</li>
                            <li><strong>Site :</strong> www.mbaa-besancon.fr</li>
                        </ul>
                    </div>

                    <div class="info-card">
                        <h3>Services</h3>
                        <ul class="services-list">
                            <li>‚úì Boutique du mus√©e</li>
                            <li>‚úì Caf√©t√©ria</li>
                            <li>‚úì Accessibilit√© PMR</li>
                            <li>‚úì Parking √† proximit√©</li>
                        </ul>
                    </div>
                </div>
            </section>

            <!-- Newsletter Section -->
            <section class="content-section" id="newsletter-section" style="display: none;">
                <div class="section-header">
                    <h2>üìß Newsletter</h2>
                </div>

                <div class="newsletter-container">
                    <div class="newsletter-card">
                        <h3>Restez inform√©</h3>
                        <p>Recevez nos derni√®res actualit√©s, expositions et √©v√©nements directement dans votre bo√Æte mail.</p>

                        <form class="newsletter-form" id="newsletterForm">
                            <div class="form-group">
                                <label for="newsletter-email">Adresse email</label>
                                <input 
                                    type="email" 
                                    id="newsletter-email" 
                                    name="email"
                                    placeholder="votre@email.com"
                                    required
                                >
                            </div>

                            <div class="newsletter-options">
                                <label class="checkbox-label">
                                    <input type="checkbox" name="category-expos" checked>
                                    <span>Expositions et √©v√©nements</span>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="category-news" checked>
                                    <span>Actualit√©s du mus√©e</span>
                                </label>
                                <label class="checkbox-label">
                                    <input type="checkbox" name="category-promos">
                                    <span>Offres sp√©ciales et promotions</span>
                                </label>
                            </div>

                            <div class="form-agree">
                                <input type="checkbox" id="agree" name="agree" required>
                                <label for="agree">J'accepte de recevoir des communications du mus√©e</label>
                            </div>

                            <button type="submit" class="btn-primary">S'inscrire √† la newsletter</button>
                            <div class="newsletter-message" id="newsletterMessage"></div>
                        </form>
                    </div>

                    <div class="newsletter-benefits">
                        <h3>Avantages de l'inscription</h3>
                        <ul>
                            <li>üéüÔ∏è Offres exclusives sur les tickets</li>
                            <li>üì¢ Avant-premi√®re des expositions</li>
                            <li>üéÅ R√©ductions partenaires</li>
                            <li>üìö Actualit√©s et coulisses du mus√©e</li>
                        </ul>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <script>
        // Check if user is logged in
        window.addEventListener('DOMContentLoaded', function() {
            const user = localStorage.getItem('visiteurUser');
            if (!user) {
                window.location.href = './connexion.html';
                return;
            }

            const userData = JSON.parse(user);
            document.getElementById('userName').textContent = userData.email.split('@')[0];
            document.getElementById('userEmail').textContent = userData.email;
        });

        // Navigation between sections
        document.querySelectorAll('.sidebar-link').forEach(link => {
            link.addEventListener('click', function(e) {
                e.preventDefault();
                
                const section = this.getAttribute('data-section');
                
                // Hide all sections
                document.querySelectorAll('.content-section').forEach(s => {
                    s.style.display = 'none';
                });
                
                // Show selected section
                document.getElementById(section + '-section').style.display = 'block';
                
                // Update active link
                document.querySelectorAll('.sidebar-link').forEach(l => {
                    l.classList.remove('active');
                });
                this.classList.add('active');
            });
        });

        // Logout
        document.getElementById('logoutBtn').addEventListener('click', function() {
            localStorage.removeItem('visiteurUser');
            window.location.href = './connexion.html';
        });

        // Newsletter form
        document.getElementById('newsletterForm').addEventListener('submit', function(e) {
            e.preventDefault();
            
            const email = document.getElementById('newsletter-email').value;
            const message = document.getElementById('newsletterMessage');
            
            if (email) {
                // Simulate API call
                message.textContent = '‚úì Inscription r√©ussie! V√©rifiez votre email.';
                message.style.color = '#4CAF50';
                
                setTimeout(() => {
                    this.reset();
                    message.textContent = '';
                }, 3000);
            }
        });

        // Star rating interaction
        document.querySelectorAll('.stars').forEach(starsContainer => {
            const stars = starsContainer.querySelectorAll('.star');
            
            stars.forEach((star, index) => {
                star.addEventListener('click', function() {
                    stars.forEach((s, i) => {
                        if (i <= index) {
                            s.classList.add('filled');
                        } else {
                            s.classList.remove('filled');
                        }
                    });
                });
            });
        });
    </script>
</body>
</html>
